{"ast":null,"code":"var _jsxFileName = \"/home/gonzalo/Learning/Desarrollo web/React/find-music/src/Components/search-result.js\";\nimport React from \"react\";\nimport ArtistCard from \"./artist-card.js\";\nimport Loading from \"./loading.js\";\nimport Error from \"./error.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PageSearchResult extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      data: {\n        similarartists: {\n          artist: []\n        }\n      }\n    };\n\n    this.fetchData = async url => {\n      this.setState({\n        loading: true\n      });\n      const response = await fetch(url);\n      const data = await response.json();\n      console.log(data, \"lo que trae la api\");\n\n      if (data.error) {\n        this.setState({\n          loading: false,\n          error: true,\n          errorMensaje: data.message\n        });\n      } else {\n        this.setState({\n          loading: false,\n          data: data\n        });\n      }\n    };\n  }\n\n  componentWillReceiveProps(e) {\n    let termino = e.busqueda;\n    console.log(termino, \"Llega hasta search\", e);\n  }\n\n  componentDidMount() {\n    this.fetchData(\"https://ws.audioscrobbler.com/2.0/?method=artist.getsimilar&artist=Korn&api_key=21df39010b423c4f7435c19896c8e1d8&format=json\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [this.state.loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 32\n      }, this), this.state.error && /*#__PURE__*/_jsxDEV(Error, {\n        errorMensaje: this.state.errorMensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [this.state.data.similarartists.artist.map((artista, i) => {\n            return /*#__PURE__*/_jsxDEV(ArtistCard, {\n              img: artista.image[2][\"#text\"],\n              titulo: artista.name\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: this.props.busqueda\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PageSearchResult;","map":{"version":3,"sources":["/home/gonzalo/Learning/Desarrollo web/React/find-music/src/Components/search-result.js"],"names":["React","ArtistCard","Loading","Error","PageSearchResult","Component","state","loading","error","data","similarartists","artist","fetchData","url","setState","response","fetch","json","console","log","errorMensaje","message","componentWillReceiveProps","e","termino","busqueda","componentDidMount","render","map","artista","i","image","name","props"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,YAAlB;;;AACA,MAAMC,gBAAN,SAA+BJ,KAAK,CAACK,SAArC,CAA+C;AAAA;AAAA;AAAA,SAC7CC,KAD6C,GACrC;AACNC,MAAAA,OAAO,EAAE,KADH;AAENC,MAAAA,KAAK,EAAE,IAFD;AAGNC,MAAAA,IAAI,EAAE;AACJC,QAAAA,cAAc,EAAE;AACdC,UAAAA,MAAM,EAAE;AADM;AADZ;AAHA,KADqC;;AAAA,SAsB7CC,SAtB6C,GAsBjC,MAAOC,GAAP,IAAe;AACzB,WAAKC,QAAL,CAAc;AACZP,QAAAA,OAAO,EAAE;AADG,OAAd;AAGA,YAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAD,CAA5B;AACA,YAAMJ,IAAI,GAAG,MAAMM,QAAQ,CAACE,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ,EAAkB,oBAAlB;;AACA,UAAIA,IAAI,CAACD,KAAT,EAAgB;AACd,aAAKM,QAAL,CAAc;AACZP,UAAAA,OAAO,EAAE,KADG;AAEZC,UAAAA,KAAK,EAAE,IAFK;AAGZY,UAAAA,YAAY,EAAEX,IAAI,CAACY;AAHP,SAAd;AAKD,OAND,MAMO;AACL,aAAKP,QAAL,CAAc;AACZP,UAAAA,OAAO,EAAE,KADG;AAEZE,UAAAA,IAAI,EAAEA;AAFM,SAAd;AAID;AACF,KAzC4C;AAAA;;AAW7Ca,EAAAA,yBAAyB,CAACC,CAAD,EAAI;AAC3B,QAAIC,OAAO,GAAGD,CAAC,CAACE,QAAhB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ,EAAqB,oBAArB,EAA2CD,CAA3C;AACD;;AAEDG,EAAAA,iBAAiB,GAAG;AAClB,SAAKd,SAAL,CACE,8HADF;AAGD;;AAuBDe,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,KAAD,CAAO,QAAP;AAAA,iBACG,KAAKrB,KAAL,CAAWC,OAAX,iBAAsB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cADzB,EAEG,KAAKD,KAAL,CAAWE,KAAX,iBAAoB,QAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKF,KAAL,CAAWc;AAAhC;AAAA;AAAA;AAAA;AAAA,cAFvB,eAGE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,qBACG,KAAKd,KAAL,CAAWG,IAAX,CAAgBC,cAAhB,CAA+BC,MAA/B,CAAsCiB,GAAtC,CAA0C,CAACC,OAAD,EAAUC,CAAV,KAAgB;AACzD,gCACE,QAAC,UAAD;AACE,cAAA,GAAG,EAAED,OAAO,CAACE,KAAR,CAAc,CAAd,EAAiB,OAAjB,CADP;AAEE,cAAA,MAAM,EAAEF,OAAO,CAACG;AAFlB,eAGOF,CAHP;AAAA;AAAA;AAAA;AAAA,oBADF;AAOD,WARA,CADH,eAUE;AAAA,sBAAK,KAAKG,KAAL,CAAWR;AAAhB;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAoBD;;AAhE4C;;AAmE/C,eAAerB,gBAAf","sourcesContent":["import React from \"react\";\nimport ArtistCard from \"./artist-card.js\";\nimport Loading from \"./loading.js\";\nimport Error from \"./error.js\";\nclass PageSearchResult extends React.Component {\n  state = {\n    loading: false,\n    error: null,\n    data: {\n      similarartists: {\n        artist: [],\n      },\n    },\n  };\n\n  componentWillReceiveProps(e) {\n    let termino = e.busqueda;\n    console.log(termino, \"Llega hasta search\", e);\n  }\n\n  componentDidMount() {\n    this.fetchData(\n      \"https://ws.audioscrobbler.com/2.0/?method=artist.getsimilar&artist=Korn&api_key=21df39010b423c4f7435c19896c8e1d8&format=json\"\n    );\n  }\n\n  fetchData = async (url) => {\n    this.setState({\n      loading: true,\n    });\n    const response = await fetch(url);\n    const data = await response.json();\n    console.log(data, \"lo que trae la api\");\n    if (data.error) {\n      this.setState({\n        loading: false,\n        error: true,\n        errorMensaje: data.message,\n      });\n    } else {\n      this.setState({\n        loading: false,\n        data: data,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.loading && <Loading />}\n        {this.state.error && <Error errorMensaje={this.state.errorMensaje} />}\n        <div className=\"container\">\n          <div className=\"row\">\n            {this.state.data.similarartists.artist.map((artista, i) => {\n              return (\n                <ArtistCard\n                  img={artista.image[2][\"#text\"]}\n                  titulo={artista.name}\n                  key={i}\n                />\n              );\n            })}\n            <h1>{this.props.busqueda}</h1>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PageSearchResult;\n"]},"metadata":{},"sourceType":"module"}