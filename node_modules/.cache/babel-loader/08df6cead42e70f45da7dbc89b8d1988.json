{"ast":null,"code":"var _jsxFileName = \"/home/gonzalo/Learning/Desarrollo web/React/find-music/src/page-artist.js\";\nimport \"./App.css\";\nimport \"./page-artist.css\";\nimport React from \"react\";\nimport SearchBar from \"./Components/search-bar.js\";\nimport SimilarArtist from \"./Components/similar-artists.js\";\nimport Loading from \"./Components/loading.js\";\nimport Error from \"./Components/error.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PageArtist extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      busqueda: \"\",\n      data: {\n        artist: {\n          image: [{\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }],\n          bio: {\n            summary: \"\"\n          },\n          similar: {\n            artist: [{\n              name: \"\",\n              url: \"\",\n              image: [{\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }]\n            }]\n          }\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.fetchData = async () => {\n      let artist = this.props.history.location.search.substr(1);\n      let url = \"http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\" + artist + \"&api_key=21df39010b423c4f7435c19896c8e1d8&format=json\";\n      this.setState({\n        loading: true\n      });\n      const response = await fetch(url);\n      const data = await response.json();\n\n      if (data.error) {\n        this.setState({\n          loading: false,\n          error: true,\n          errorMensaje: data.message\n        });\n      } else {\n        this.setState({\n          error: false,\n          loading: false,\n          data: data\n        });\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.fetchData();\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onChange: this.handleChange,\n        busqueda: this.state.busqueda\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 32\n      }, this), this.state.error && /*#__PURE__*/_jsxDEV(Error, {\n        errorMensaje: this.state.errorMensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row centrar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.data.artist.image[3][\"#text\"],\n              alt: \"\",\n              className: \"pic-artist margin30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: this.state.data.artist.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.data.artist.bio.summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row centrar margin30\",\n          children: /*#__PURE__*/_jsxDEV(SimilarArtist, {\n            data: this.state.data.artist.similar.artist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PageArtist;","map":{"version":3,"sources":["/home/gonzalo/Learning/Desarrollo web/React/find-music/src/page-artist.js"],"names":["React","SearchBar","SimilarArtist","Loading","Error","PageArtist","Component","state","busqueda","data","artist","image","bio","summary","similar","name","url","handleChange","e","setState","target","value","fetchData","props","history","location","search","substr","loading","response","fetch","json","error","errorMensaje","message","componentDidUpdate","prevProps","componentDidMount","render"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport \"./page-artist.css\";\nimport React from \"react\";\nimport SearchBar from \"./Components/search-bar.js\";\nimport SimilarArtist from \"./Components/similar-artists.js\";\nimport Loading from \"./Components/loading.js\";\nimport Error from \"./Components/error.js\";\n\nclass PageArtist extends React.Component {\n  state = {\n    busqueda: \"\",\n    data: {\n      artist: {\n        image: [\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n        ],\n        bio: {\n          summary: \"\",\n        },\n        similar: {\n          artist: [\n            {\n              name: \"\",\n              url: \"\",\n              image: [\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n              ],\n            },\n          ],\n        },\n      },\n    },\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.fetchData();\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    let artist = this.props.history.location.search.substr(1);\n    let url =\n      \"http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\" +\n      artist +\n      \"&api_key=21df39010b423c4f7435c19896c8e1d8&format=json\";\n    this.setState({\n      loading: true,\n    });\n    const response = await fetch(url);\n    const data = await response.json();\n    if (data.error) {\n      this.setState({\n        loading: false,\n        error: true,\n        errorMensaje: data.message,\n      });\n    } else {\n      this.setState({\n        error: false,\n        loading: false,\n        data: data,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <SearchBar\n          onChange={this.handleChange}\n          busqueda={this.state.busqueda}\n        />\n        {this.state.loading && <Loading />}\n        {this.state.error && <Error errorMensaje={this.state.errorMensaje} />}\n        <div className=\"container\">\n          <div className=\"row centrar\">\n            <div className=\"col-md-3\" />\n            <div className=\"col-md-6\">\n              <img\n                src={this.state.data.artist.image[3][\"#text\"]}\n                alt=\"\"\n                className=\"pic-artist margin30\"\n              />\n              <h2>{this.state.data.artist.name}</h2>\n              <p>{this.state.data.artist.bio.summary}</p>\n            </div>\n          </div>\n          <div className=\"row centrar margin30\">\n            <SimilarArtist data={this.state.data.artist.similar.artist} />\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PageArtist;\n"]},"metadata":{},"sourceType":"module"}